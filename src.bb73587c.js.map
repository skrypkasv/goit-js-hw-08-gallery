{"version":3,"sources":["js/gallery-items.js","index.js"],"names":["preview","original","description","gallery","document","querySelector","markup","createGalleryMarkup","data","listItems","map","join","insertAdjacentHTML","addEventListener","openModal","modal","modalImg","evt","preventDefault","target","classList","contains","add","changeModalImgAttributes","window","onEscKeydown","onArrowsKeydown","src","dataset","source","alt","btnCloseModal","closeModal","removeEventListener","remove","modalBackdrop","code","originLinks","onArrowRightKeydown","onArrowLeftKeydown","i","length"],"mappings":"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","file":"src.bb73587c.js","sourceRoot":"..\\src","sourcesContent":["export default [\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\r\n    description: 'Hokkaido Flower',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\r\n    description: 'Container Haulage Freight',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\r\n    description: 'Aerial Beach View',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\r\n    description: 'Flower Blooms',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\r\n    description: 'Alpine Mountains',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\r\n    description: 'Mountain Lake Sailing',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\r\n    description: 'Alpine Spring Meadows',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\r\n    description: 'Nature Landscape',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\r\n    description: 'Lighthouse Coast Sea',\r\n  },\r\n];\r\n","import './sass/main.scss';\r\n\r\nimport data from './js/gallery-items.js';\r\n\r\n// ▶ Создание и рендер разметки по массиву данных и\r\n// предоставленному шаблону.\r\nconst gallery = document.querySelector('ul.js-gallery');\r\nconst markup = createGalleryMarkup(data);\r\ngallery.insertAdjacentHTML('beforeend', markup);\r\n\r\nfunction createGalleryMarkup(listItems) {\r\n  return listItems.map(({ preview, original, description }) => {\r\n    return `<li class=\"gallery__item\">\r\n              <a\r\n                class=\"gallery__link\"\r\n                href=\"${original}\"\r\n              >\r\n                <img\r\n                  class=\"gallery__image\"\r\n                  src=\"${preview}\"\r\n                  data-source=\"${original}\"\r\n                  alt=\"${description}\"\r\n                />\r\n              </a>\r\n          </li>`\r\n  }).join('');\r\n}\r\n\r\n// ▶ Реализация делегирования на галерее ul.js-gallery\r\n// и получение url большого изображения.\r\n// ▶ Открытие модального окна по клику на элементе\r\n// галереи.\r\n// ▶ Подмена значения атрибута src элемента\r\n// img.lightbox__image.\r\ngallery.addEventListener('click', openModal)\r\nconst modal = document.querySelector('div.js-lightbox')\r\nconst modalImg = document.querySelector('img.lightbox__image')\r\n\r\nfunction openModal(evt) {\r\n  evt.preventDefault()\r\n  if (!evt.target.classList.contains('gallery__image')) {\r\n    return\r\n  }\r\n  modal.classList.add('is-open');\r\n  changeModalImgAttributes(evt);\r\n\r\n  window.addEventListener('keydown', onEscKeydown)\r\n  window.addEventListener('keydown', onArrowsKeydown)\r\n}\r\nfunction changeModalImgAttributes(evt) {\r\n  modalImg.src = evt.target.dataset.source;\r\n  modalImg.alt = evt.target.alt;\r\n}\r\n\r\n// ▶ Закрытие модального окна по клику на кнопку\r\n// button[data - action= \"close-lightbox\"].\r\n// ▶ Очистка значения атрибута src элемента\r\n// img.lightbox__image.Это необходимо для того,\r\n// чтобы при следующем открытии модального окна,\r\n// пока грузится изображение, мы не видели предыдущее.\r\nconst btnCloseModal = document.querySelector('button[data-action=\"close-lightbox\"]');\r\nbtnCloseModal.addEventListener('click', closeModal);\r\n\r\nfunction closeModal() {\r\n  window.removeEventListener('keydown', onEscKeydown)\r\n  window.removeEventListener('keydown', onArrowsKeydown)\r\n  modal.classList.remove('is-open');\r\n  modalImg.src = '';\r\n}\r\n\r\n// Дополнительно\r\n// Следующий функционал не обязателен при сдаче\r\n// задания, но будет хорошей практикой по работе с\r\n// событиями:\r\n\r\n// ▶ Закрытие модального окна по клику на\r\n// div.lightbox__overlay.\r\nconst modalBackdrop = document.querySelector('div.lightbox__overlay');\r\nmodalBackdrop.addEventListener('click', closeModal);\r\n\r\n// ▶ Закрытие модального окна по нажатию клавиши ESC.\r\nfunction onEscKeydown(evt) {\r\n  if (evt.code === 'Escape') {\r\n    closeModal()\r\n  }\r\n}\r\n// ▶ Пролистывание изображений галереи в открытом\r\n// модальном окне клавишами \"влево\" и \"вправо\".\r\nconst originLinks = data.map(({ original }) => original);\r\n\r\nfunction onArrowsKeydown(evt) {\r\n  if (evt.code === \"ArrowRight\") {\r\n    onArrowRightKeydown()\r\n  } else if (evt.code === \"ArrowLeft\") {\r\n    onArrowLeftKeydown()\r\n  }\r\n}\r\nfunction onArrowRightKeydown() {\r\n  for (let i = 0; i < originLinks.length; i += 1) {\r\n      if (modalImg.src === originLinks[8]) {\r\n        modalImg.src = `${originLinks[0]}`;\r\n        return;\r\n      } else if (modalImg.src === originLinks[i]) {\r\n        modalImg.src = `${originLinks[i + 1]}`;\r\n        return;\r\n      }\r\n    }\r\n}\r\nfunction onArrowLeftKeydown() {\r\n  for (let i = 0; i < originLinks.length; i += 1) {\r\n      if (modalImg.src === originLinks[0]) {\r\n        modalImg.src = `${originLinks[8]}`;\r\n        return;\r\n      } else if (modalImg.src === originLinks[i]) {\r\n        modalImg.src = `${originLinks[i - 1]}`;\r\n        return;\r\n      }\r\n    }\r\n}\r\n\r\n\r\n/*Ссылка на оригинальное изображение должна храниться\r\nв data-атрибуте source на элементе img, и\r\nуказываться в href ссылки(это необходимо для\r\nдоступности): ⬇⬇⬇\r\n<li class=\"gallery__item\">\r\n  <a\r\n    class=\"gallery__link\"\r\n    href=\"https://cdn.pixabay.com/photo/2010/12/13/10/13/tulips-2546_1280.jpg\"\r\n  >\r\n    <img\r\n      class=\"gallery__image\"\r\n      src=\"https://cdn.pixabay.com/photo/2010/12/13/10/13/tulips-2546__340.jpg\"\r\n      data-source=\"https://cdn.pixabay.com/photo/2010/12/13/10/13/tulips-2546_1280.jpg\"\r\n      alt=\"Tulips\"\r\n    />\r\n  </a>\r\n</li> */\r\n"]}